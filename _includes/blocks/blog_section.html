{% assign blog_pages = site.pages
| where: "layout", "default_blog_layout"
| where: "lang", page.lang
| sort: 'date' | reverse %}

{% if blog_pages.size > 0 %}
    <section class="bg-white dark:bg-gray-900">
        <div class="mx-auto max-w-screen-xl px-4 py-12 lg:px-6 lg:py-20">
            <!-- Header -->
            <div class="mx-auto mb-12 max-w-screen-sm text-center lg:mb-20">
                <h2 class="mb-6 text-4xl font-extrabold tracking-tight text-gray-900 dark:text-white sm:text-5xl">
                    {{ block.headline | default: 'Our Blog' }}
                </h2>
                <p class="text-lg text-gray-500 dark:text-gray-400 sm:text-xl">
                    {{ block.text | default: 'We use an agile approach to test assumptions and connect with the needs of your audience early and often.' }}
                </p>
            </div>

            <!-- Blog Grid -->
            <div class="grid gap-8 sm:grid-cols-2 lg:grid-cols-3">
                {% for post in blog_pages limit: block.display_limit %}
                <article class="group flex flex-col rounded-xl border border-gray-200 bg-white shadow-md hover:shadow-2xl hover:-translate-y-2 transition-all duration-300 overflow-hidden dark:border-gray-700 dark:bg-gray-800 h-full">
                    <!-- Featured Image -->
                    <a href="{{ post.url | default: '#' }}" class="block overflow-hidden">
                        <img src="{{ post.image.src }}"
                             alt="{{ post.image.alt | default: 'Blog post image' }}"
                             class="w-full h-56 object-cover group-hover:scale-110 transition-transform duration-500 rounded-t-xl">
                    </a>

                    <!-- Category Badge -->
                    <div class="p-6 flex-1 flex flex-col">
                        <span class="inline-flex items-center gap-1 font-semibold bg-purple-100 text-purple-800 text-xs px-3 py-1 rounded-full mb-4 group-hover:bg-purple-200 dark:bg-purple-200 dark:text-purple-900 dark:group-hover:bg-purple-300 transition-colors">
                            {{ post.category | default: 'Article' }}
                        </span>

                        <!-- Title -->
                        <h3 class="mb-4 text-2xl font-bold tracking-tight text-gray-900 dark:text-white leading-tight hover:text-purple-600 dark:hover:text-purple-400 group-hover:underline transition-all">
                            <a href="{{ post.url | default: '#' }}">{{ post.title }}</a>
                        </h3>

                        <!-- Excerpt -->
                        <p class="mb-6 text-gray-500 dark:text-gray-400 flex-grow leading-relaxed">
                            {{ post.teaser | default: 'Over the past year, Volosoft has undergone many changes! After months of preparation and some hard work, we moved to our new office.' }}
                        </p>

                        <!-- Author & Date -->
                        <div class="flex items-center gap-4 pt-4 border-t border-gray-100 dark:border-gray-700">
                            <img src="{{ post.author_image | default: 'https://flowbite.s3.amazonaws.com/blocks/marketing-ui/avatars/jese-leos.png' }}"
                                 alt="{{ post.author_name }} avatar"
                                 class="h-10 w-10 rounded-full ring-2 ring-white dark:ring-gray-800 shadow-md">
                            <div>
                                <div class="font-semibold text-gray-900 dark:text-white">{{ post.author_name }}</div>
                                <div class="text-sm text-gray-500 dark:text-gray-400">{{ post.date | default: 'Aug 15, 2021' }} Â· {{ post.read_time | default: '16 min read' }}</div>
                            </div>
                        </div>
                    </div>
                </article>
                {% endfor %}
            </div>
        </div>
    </section>
{% endif %}
